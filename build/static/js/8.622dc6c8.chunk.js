(this["webpackJsonpmern-frontend"]=this["webpackJsonpmern-frontend"]||[]).push([[8],{45:function(e,t,a){"use strict";var n=a(0),r=a.n(n);a(48);t.a=function(e){return r.a.createElement("div",{className:"card ".concat(e.className),style:e.style},e.children)}},48:function(e,t,a){},59:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(43),r=a.n(n),c=a(44),i=a(10),l=a(0),s=a.n(l),o=a(1),u=a(54),p=a(42),d=a(45),m=a(46),f=a(15),v=a(11),b=a(47),h=a(53),E=a(58);a(59);t.default=function(){var e=Object(l.useContext)(v.a),t=Object(l.useState)(),a=Object(i.a)(t,2),n=a[0],j=a[1],O=Object(b.a)(),x=O.isLoading,y=O.error,V=O.sendRequest,g=O.clearError,k=Object(o.h)().placeId,w=Object(E.a)({title:{value:"",isValid:!1},description:{value:"",isValid:!1}},!1),C=Object(i.a)(w,3),N=C[0],P=C[1],T=C[2],A=Object(o.g)();Object(l.useEffect)((function(){(function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V("".concat("https://sluga-udemy-mern.herokuapp.com/","api/places/").concat(k));case 2:t=e.sent,console.log(t),j(t.place),T({title:{value:t.place.title,isValid:!0},description:{value:t.place.description,isValid:!0}},!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[V,k]);var I=function(){var t=Object(c.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,V("".concat("https://sluga-udemy-mern.herokuapp.com/","api/places/").concat(k),"PATCH",JSON.stringify({title:N.inputs.title.value,description:N.inputs.description.value}),{"Content-type":"application/json",Authorization:"Bearer "+e.token});case 4:A.push("/".concat(e.userId,"/places")),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}();return s.a.createElement(s.a.Fragment,null,s.a.createElement(m.a,{error:y,onClear:g}),x&&s.a.createElement("div",{className:"center"},s.a.createElement(f.a,null)),!x&&n&&s.a.createElement("form",{className:"place-form",onSubmit:I},s.a.createElement(u.a,{id:"title",element:"input",type:"text",label:"Title",validators:[Object(h.c)()],errorText:"Please enter a valid title.",onInput:P,initialValue:n.title,initialValid:!0}),s.a.createElement(u.a,{id:"description",element:"textarea",label:"Description",validators:[Object(h.b)(5)],errorText:"Please enter a valid description (min. 5 characters).",onInput:P,initialValue:n.description,initialValid:!0}),s.a.createElement(p.a,{type:"submit",disabled:!N.isValid},"UPDATE PLACE")),!y&&!x&&!n&&s.a.createElement("div",{className:"center"},s.a.createElement(d.a,null,s.a.createElement("h2",null,"Could not find place"))))}}}]);
//# sourceMappingURL=8.622dc6c8.chunk.js.map